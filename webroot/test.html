<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Teste do Webservice</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
</head>
<body>
    <div>
        <h1>Redefinir Banco de Dados</h1>
        <form id="reset" action="/lavras-informa/init" method="get">
            <input type="submit" value="GET" />
        </form>
        <div id="reset-result" />
    </div>
    <div>
        <h1>Registrar Usuário</h1>
        <form id="register-user" action="/lavras-informa/cadastro" method="post">
            <label>Email</label> <input type="text" name="email" value="oi" /> <br />
            <label>Senha</label> <input type="text" name="senha" value="oi" /> <br />
            <label>Nome</label> <input type="text" name="nome" value="oi" /> <br />
            <input type="submit" value="POST" />
        </form>
        <div id="register-user-result"></div>
	</div>
	<div>
        <h1>Login</h1>
        <form id="login-user" action="/lavras-informa/login" method="post">
            <label>Grant Type</label><input type="text" name="grant_type" value="password" /> <br />
            <label>Client ID</label> <input type="text" name="client_id" value="id_do_aplicativo" /> <br />
            <label>Client Secret</label> <input type="text" name="client_secret" value="segredo_do_aplicativo" /> <br />
            <label>Scope</label> <input type="text" name="scope" value="usuario lista_relatos set_relato lista_comentarios set_comentario" /> <br />
            <label>Username</label> <input type="text" name="username" value="oi" /> <br />
            <label>Password</label> <input type="text" name="password" value="oi" /> <br />
            <input type="submit" value="POST" />
        </form>
        <div id="login-user-result"></div>
    </div>
    <div>
        <h1>Login Facebook</h1>
        <form id="login-facebook" action="/lavras-informa/loginFacebook" method="post">
            <label>Grant Type</label><input type="text" name="grant_type" value="password" /> <br />
            <label>Client ID</label> <input type="text" name="client_id" value="id_do_aplicativo" /> <br />
            <label>Client Secret</label> <input type="text" name="client_secret" value="segredo_do_aplicativo" /> <br />
            <label>Scope</label> <input type="text" name="scope" value="usuario lista_relatos set_relato lista_comentarios set_comentario" /> <br />
            <label>Username</label> <input type="text" name="username" value="id_teste" /> <br />
            <label>Password</label> <input type="text" name="password" value="token_teste" /> <br />
            <input type="submit" value="POST" />
        </form>
        <div id="login-facebook-result"></div>
    </div>
    <div>
        <h1>Dados do Usuário</h1>
        <form id="get-user" action="/lavras-informa/usuario" method="post">
            <label>Access Token</label> <input type="text" name="access_token"> <br />
            <input type="submit" value="POST" />
        </form>
        <div id="get-user-result"></div>
    </div>
    <div>
        <h1>Set Relato</h1>
        <form id="set-relato" action="/lavras-informa/relatos/set" method="post" enctype="multipart/form-data">
            <label>Access Token</label> <input type="text" name="access_token" > <br />
            <label>Titulo</label> <input type="text" name="titulo" value="teste" /> <br />
            <label>Descrição</label> <input type="text" name="descricao" value="testando 1 2 3"/> <br />
            <label>Status</label> <select name="status">
                <option value="pendente" selected>Pendente</option>
                <option value="em-andamento">Em Andamento</option>
                <option value="finalizado">Finalizado</option>
            </select> <br />
            <label>Classificação</label> <select name="classificacao">
                <option value="infraestrutura" selected>Infraestrutura</option>
                <option value="saude">Saúde</option>
                <option value="seguranca">Segurança</option>
            </select> <br/>
            <label>Foto</label> <select name="foto">
                <option value="1" selected>Sim</option>
                <option value="0">Não</option>
            </select> <br/>
            <label>Dados Foto</label> <input type="text" name="dados_foto" value="data:image/gif;base64,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"/> <br/>
            <label>Latitude</label> <input type="number" name="latitude" min="-90" max="90" step="0.0001" value="50"/> <br/>
            <label>Longitude</label> <input type="number" name="longitude" min="-180" max="180" step="0.0001" value="50"/> <br/>
            <label>ID Usuário</label> <input type="text" name="id_usuario" /> <br />
            <input type="submit" value="POST" />
        </form>
        <div id="set-relato-result"></div>
    </div>
    <div>
        <h1>Lista Relatos</h1>
        <form id="lista-relatos" action="/lavras-informa/relatos" method="post">
            <label>Access Token</label> <input type="text" name="access_token"> <br />
            ...<br/>
            <input type="submit" value="POST" />
        </form>
        <div id="lista-relatos-result"></div>
    </div>
    <div>
        <h1>Foto</h1>
        <form id="get-foto" action="/lavras-informa/imagem" method="get">
            <label>Access Token</label> <input type="text" name="access_token"/> <br/>
            <label>ID Relato</label> <input type="text" name="id" /> <br/>
            <input type="submit" value="GET" />
        </form>
        <img id="get-foto-result"/>
    </div>
    <div>
        <h1>Set Comentário</h1>
        <form id="set-comentario" action="/lavras-informa/comentarios/set" method="post">
            <label>Access Token</label> <input type="text" name="access_token"> <br />
            <label>Texto</label> <input type="text" name="texto" value="testando os comentarios" /> <br />
            <label>ID Relato</label> <input type="text" name="id_relato" /> <br />
            <label>ID Usuario</label>  <input type="text" name="id_usuario" /> <br />
            <input type="submit" value="POST" />
        </form>
        <div id="set-comentario-result"></div>
    </div>
    <div>
        <h1>Lista Comentários</h1>
        <form id="lista-comentarios" action="/lavras-informa/comentarios" method="post">
            <label>Access Token</label> <input type="text" name="access_token"> <br />
            ... <br/>
            <input type="submit" value="POST" />
        </form>
        <div id="lista-comentarios-result"></div>
    </div>
    
	<script>
            function registrarAjax(form_select) {
                $(form_select).submit(
                    function(event) {
                        event.preventDefault();
                        var form = $(this);
                        var url = form.attr('action');
                        var method = form.attr('method');
                        var formData = form.serialize();
                        var submit = $.ajax({
                            url: url,
                            type: method,
                            data: formData,
                            success: function(data) {
                                $(form_select + '-result').html(JSON.stringify(data));
                            },
                            error: function(xhr, status, error) {
                                // JSON.parse(xhr.responseText)
                                $(form_select + '-result').html(xhr.responseText);
                            },
                            cache: false
                        });
                    }
                );
	    }
            function registrarAjaxImg(form_select) {
                $(form_select).submit(
                    function(event) {
                        event.preventDefault();
                        var form = $(this);
                        var url = form.attr('action');
                        var formData = form.serialize();
                        $(form_select + '-result').attr('src', url + '?' + formData);
                    }
                );
	    }

            registrarAjax('#reset');
            registrarAjax('#register-user');
            registrarAjax('#login-user');
            registrarAjax('#login-facebook');
            registrarAjax('#get-user');
            registrarAjax('#set-relato');
            registrarAjax('#lista-relatos');
            registrarAjax('#set-comentario');
            registrarAjax('#lista-comentarios');
            registrarAjaxImg('#get-foto');
	</script>

</body>
</html>
